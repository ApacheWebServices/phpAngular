// Generated by CoffeeScript 1.8.0
angular.module("httpStateInterceptor", []).config(function($httpProvider) {
  var spinnerFunction;
  $httpProvider.responseInterceptors.push("httpStateInterceptor");
  spinnerFunction = function(data, headersGetter) {
    return data;
  };
  $httpProvider.defaults.transformRequest.push(spinnerFunction);
}).factory("httpStateInterceptor", function($q, $rootScope) {
  return function(promise) {
    $rootScope.polling = true;
    $rootScope.networkError = false;
    return promise.then((function(response) {
      $rootScope.polling = false;
      return response;
    }), function(response) {
      $rootScope.polling = false;
      $rootScope.networkError = true;
      return $q.reject(response);
    });
  };
});
